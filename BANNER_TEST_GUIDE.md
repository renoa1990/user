# 🎨 배너 테스트 가이드

PopupBanner 컴포넌트를 어드민 등록 없이 테스트할 수 있는 방법입니다.

## 📋 준비 단계

### 1. 더미 배너 이미지 생성

브라우저에서 다음 파일을 열어주세요:

```
user/public/create-dummy-banners.html
```

또는 직접 열기:

```bash
# Windows
start user/public/create-dummy-banners.html

# Mac
open user/public/create-dummy-banners.html

# Linux
xdg-open user/public/create-dummy-banners.html
```

#### 이미지 생성 방법:

1. 페이지가 자동으로 3개의 배너 이미지를 생성합니다
2. "모두 다운로드" 버튼을 클릭하거나 개별 이미지를 클릭하여 다운로드
3. 다운로드한 파일들을 `user/public/images/` 폴더에 저장

**생성되는 파일:**

- `banner-test-1.png` (380 x 546px)
- `banner-test-2.png` (380 x 546px)
- `banner-test-3.png` (380 x 546px)

### 2. 실제 이미지 사용 (선택사항)

기존 이미지를 사용하려면 `user/src/pages/test-banner.tsx` 파일에서 URL을 수정하세요:

```typescript
url: "/images/your-image.png", // 실제 이미지 경로로 변경
```

---

## 🚀 테스트 실행

### 1. 개발 서버 실행

```bash
cd user
npm run dev
```

### 2. 테스트 페이지 접속

브라우저에서 다음 주소로 이동:

```
http://localhost:3000/test-banner
```

### 3. 테스트 옵션

페이지에서 다음 버튼들을 사용할 수 있습니다:

- **배너 1개 표시**: 단일 배너 테스트
- **배너 2개 표시 (캐러셀)**: 2개 배너 캐러셀 테스트
- **배너 3개 표시 (캐러셀)**: 3개 배너 캐러셀 테스트
- **리셋**: 배너를 숨기고 초기 상태로 복귀

---

## 🎮 테스트 기능

### 키보드 단축키

- `ESC` : 현재 배너 닫기 (다음 배너 자동 표시)

### 마우스 조작

- **X 버튼 (우상단)**: 현재 배너 닫기
- **진행 상황 표시**: 현재 몇 번째 배너인지 표시 (예: 1/3)
- **3일동안 보지 않기**: 해당 배너를 3일간 숨김
- **닫기**: 현재 배너 닫기 (다음 배너 자동 표시)

### 동작 방식

- 배너는 **순서대로만** 표시됩니다
- 현재 배너를 닫으면 **다음 배너가 자동으로** 나타납니다
- 건너뛰기나 이전 배너로 돌아가기는 **불가능**합니다

### 테스트해야 할 항목

#### ✅ 기본 동작

- [ ] 배너가 정상적으로 표시되는가?
- [ ] 이미지가 올바르게 로드되는가?
- [ ] 애니메이션이 부드럽게 작동하는가?

#### ✅ 스택 기능 (2개 이상)

- [ ] 첫 번째 배너만 표시되는가?
- [ ] 진행 상황 표시가 올바른가? (예: 1/3)
- [ ] 배너를 닫으면 다음 배너가 자동으로 나타나는가?
- [ ] 남은 배너 개수가 올바르게 표시되는가?

#### ✅ 키보드 네비게이션

- [ ] ESC 키로 현재 배너가 닫히는가?
- [ ] 배너를 닫으면 다음 배너가 표시되는가?

#### ✅ 닫기 기능

- [ ] X 버튼으로 현재 배너가 닫히는가?
- [ ] "닫기" 버튼으로 현재 배너가 닫히는가?
- [ ] 배너를 닫으면 다음 배너가 자동으로 표시되는가?

#### ✅ "3일동안 보지 않기" 기능

- [ ] 버튼 클릭 시 API 호출이 발생하는가?
- [ ] 해당 배너가 목록에서 제거되는가?
- [ ] 로딩 중에는 버튼이 비활성화되는가?

#### ✅ 반응형 디자인

- [ ] 모바일에서 화면을 꽉 채우는가?
- [ ] PC에서 중앙에 380x546px로 표시되는가?
- [ ] 이미지 비율이 유지되는가?

#### ✅ 애니메이션

- [ ] 페이드인 효과가 작동하는가?
- [ ] 페이드아웃 효과가 작동하는가?
- [ ] 슬라이드 전환이 부드러운가?
- [ ] 호버 효과가 작동하는가?

---

## 🔧 커스터마이징

### 배너 개수 변경

`user/src/pages/test-banner.tsx` 파일에서 배너를 추가/제거할 수 있습니다:

```typescript
const DUMMY_BANNERS: banner[] = [
  {
    id: 1,
    number: 1,
    name: "테스트 배너 1",
    // ... 나머지 속성
  },
  // 여기에 배너 추가
  {
    id: 4,
    number: 4,
    name: "테스트 배너 4",
    memo: "네 번째 테스트 배너입니다",
    link: "https://example.com",
    allTime: true,
    startAt: new Date(),
    endAt: null,
    url: "/images/banner-test-4.png",
    live: true,
    bannerOff: [],
  },
];
```

### 배너 스타일 수정

배너 스타일은 다음 파일에서 수정할 수 있습니다:

- `user/src/components/banner/popupbanner.tsx` - 메인 컴포넌트
- `user/src/components/banner/banner-styles.ts` - 공통 스타일
- `user/src/components/banner/banner-animations.ts` - 애니메이션

---

## 🐛 문제 해결

### 이미지가 표시되지 않을 때

1. 이미지 파일이 올바른 위치에 있는지 확인:

   ```
   user/public/images/banner-test-1.png
   user/public/images/banner-test-2.png
   user/public/images/banner-test-3.png
   ```

2. 이미지 URL이 올바른지 확인:

   ```typescript
   url: "/images/banner-test-1.png", // 앞에 /images/ 경로 확인
   ```

3. Next.js 개발 서버를 재시작:
   ```bash
   # Ctrl+C로 중단 후
   npm run dev
   ```

### 배너가 표시되지 않을 때

1. 브라우저 콘솔에서 에러 확인 (F12)
2. `showBanner` 상태가 `true`인지 확인
3. `DUMMY_BANNERS` 배열에 데이터가 있는지 확인

### API 에러가 발생할 때

"3일동안 보지 않기" 기능은 API를 호출하지만, 테스트 페이지에서는 에러가 발생해도 정상적으로 작동합니다.
실제 프로덕션에서는 `/api/home/banneroff` 엔드포인트가 정상 작동해야 합니다.

---

## 📊 성능 체크리스트

- [ ] 배너 로딩 시간이 1초 이내인가?
- [ ] 애니메이션이 60fps로 작동하는가?
- [ ] 메모리 누수가 없는가?
- [ ] 이미지가 최적화되었는가?
- [ ] 불필요한 리렌더링이 발생하지 않는가?

---

## 🎯 다음 단계

테스트가 완료되면:

1. **실제 데이터 연동**: 어드민에서 배너를 등록하고 실제 데이터와 연동
2. **이미지 최적화**: WebP 포맷으로 변환하여 로딩 속도 개선
3. **A/B 테스트**: 배너 성과 측정 및 최적화
4. **접근성 개선**: ARIA 속성 추가 및 스크린 리더 테스트
5. **모바일 최적화**: 스와이프 제스처 추가

---

## 💡 유용한 팁

1. **빠른 테스트**: 브라우저를 새로고침하면 배너가 다시 표시됩니다.
2. **다크모드 테스트**: 브라우저 개발자 도구에서 다크모드를 시뮬레이션할 수 있습니다.
3. **성능 모니터링**: Chrome DevTools의 Performance 탭으로 애니메이션 성능을 측정하세요.
4. **반응형 테스트**: Chrome DevTools의 Device Mode로 다양한 화면 크기를 테스트하세요.

---

**문제가 있거나 질문이 있으시면 이슈를 등록해주세요!** 🚀
